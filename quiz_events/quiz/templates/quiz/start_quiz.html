{% extends 'quiz/base.html' %}
{% block title %}Quiz Event App â€” {{ quiz.title }}{% endblock title %}
{% block content %}

<h1 class="text-2xl font-bold mb-4">{{ quiz.title }}</h1>
<p class="text-gray-700 mb-4">{{ quiz.description }}</p>

<form method="post">
    {% csrf_token %}

    {% for q in questions %}
        <div class="p-4 mb-4 bg-white rounded shadow">
            <h2 class="font-semibold">{{ forloop.counter }}. {{ q.text }}</h2>

            {% if q.question_type == 'MCQ' %}
                {% for ans in q.answers.all %}
                <label class="block mt-1">
                    <input type="radio" name="question_{{ q.id }}" value="{{ ans.id }}" />
                    {{ ans.text }}
                </label>
                {% endfor %}
            {% endif %}

            {% if q.question_type == 'TEXT' %}
                <input 
                    type="text" 
                    name="question_{{ q.id }}" 
                    class="border border-gray-300 p-2 rounded w-full mt-2"
                    placeholder="Write your answer here"
                >
            {% endif %}

            {% if q.question_type == 'BOOL' %}
                <label class="block mt-1">
                    <input type="radio" name="question_{{ q.id }}" value="true"> True
                </label>
                <label class="block mt-1">
                    <input type="radio" name="question_{{ q.id }}" value="false"> False
                </label>
            {% endif %}
        </div>
    {% endfor %}

    <div class="flex items-center gap-4 mt-6">

        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">
            Submit Quiz
        </button>

        <a href="{% url 'home' %}" 
        class="bg-red-600 text-white px-6 py-2 rounded hover:bg-red-700 transition">
            Cancel Quiz
        </a>
    </div>

</form>

{% endblock %}
